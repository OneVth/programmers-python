# Suggest Commit Message

현재 git 상태와 이전 커밋 메시지를 분석하여 커밋 메시지를 제안합니다.

## 입력
$ARGUMENTS

- **없음**: 전체 변경사항에 대한 커밋 메시지 제안
- **`staged`**: staged된 파일만 대상으로 커밋 메시지 제안

## 작업 내용

### 1. Git 상태 확인

```bash
git status
git diff --name-only          # 변경된 파일
git diff --cached --name-only  # staged된 파일 (staged 옵션 시)
```

### 2. 이전 커밋 메시지 분석

**중요: head(첫 줄)만이 아닌 전체 메시지를 확인!**

```bash
git log -10 --format="=== %h ===%n%B"
```

분석 항목:
- 제목 형식 (prefix, 범위, 요약)
- 본문 구조 (문제 상세, 파일 추가, 복습 예정 등)
- 일관된 패턴 추출

### 3. 변경사항 분류

| 분류 | 예시 |
|------|------|
| 새 문제 풀이 | `Lv0/120863/solution.py` |
| 복습 완료 | `Lv0/120863/review_1.py` |
| 학습 노트 | `notes/*.md` |
| 일간/주간 노트 | `daily-notes/*.md`, `weekly-notes/*.md` |
| 커맨드 추가/수정 | `.claude/commands/*.md` |

### 4. 커밋 메시지 제안

이전 커밋 패턴에 맞춰 제목과 본문을 제안합니다.

**이 프로젝트의 패턴:**
```
feat: Lv0 {N}문제 {행동} 및 {추가 항목}

- {문제번호} {제목}: {핵심 개념}
- {추가 파일}: {설명}
- 재복습 예정: {문제번호들}
```

## 출력 형식

```markdown
## 💡 커밋 메시지 제안

\`\`\`
{제안된 커밋 메시지}
\`\`\`

### 커밋 대상 파일 ({N}개)

\`\`\`
{파일 목록}
\`\`\`
```

## 주의사항

- ❌ `git log --oneline`은 head만 보여주므로 사용하지 않음
- ✅ `git log --format`으로 전체 메시지 확인
- 사용자가 일부 파일만 커밋하려는 경우, 해당 파일만 반영하여 재제안
- 복습 문제의 경우 "재복습 예정" 여부 확인 필요
