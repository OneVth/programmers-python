# Monthly Review - 월간 복습

최근 4주간 weekly-notes를 분석하여 월간 학습 리포트를 생성합니다.

## 입력
$ARGUMENTS

- **없음**: 현재 월 기준으로 분석 및 리포트 출력
- **`YYYY-MM`**: 특정 연월 분석 (예: `2025-12`)
- **`save`**: 분석 결과를 monthly-notes에 저장

## 작업 내용

### 1. 대상 주차 파일 수집

`weekly-notes/` 폴더에서 해당 월에 속하는 주차 파일들을 수집합니다.

**월-주차 매핑 규칙:**
- 각 weekly-notes 파일의 `복습 기간` 날짜를 확인
- 해당 월에 속하는 주차만 선택
- 예: 2025-12월 → W49 ~ W52 (대략)

### 2. 통계 추출

각 weekly-notes에서 다음 정보를 파싱합니다:

**복습 결과 요약 테이블에서:**
```
| 결과 | 문제 수 | 비율 |
|------|---------|------|
| ✅ 완벽 | N | % |
| 🔄 재복습 필요 | N | % |
```

**복습 문제 상세 테이블에서:**
- 문제번호, 제목, 핵심 개념, 결과

**핵심 패턴 정리 섹션에서:**
- 패턴명과 코드 스니펫

### 3. 월간 분석 생성

#### 📊 월간 통계 요약
| 항목 | 값 |
|------|---|
| 총 복습 문제 | N문제 |
| 완벽 | N문제 (%) |
| 재복습 필요 | N문제 (%) |
| 주간 평균 | N문제/주 |
| 복습 완료율 | % |

#### 📋 주차별 상세
| 주차 | 기간 | 문제 수 | 완벽 | 재복습 |
|------|------|---------|------|--------|

#### 🎯 핵심 패턴 TOP 10

4주간 가장 많이 등장한 패턴들을 빈도순으로 정렬합니다.

| 순위 | 패턴 | 등장 횟수 | 관련 문제 |
|------|------|----------|-----------|

#### ❌ 반복 실수/재복습 분석

여러 주에 걸쳐 재복습이 필요했던 문제들:

| 문제번호 | 제목 | 재복습 횟수 | 주요 실수 원인 |
|----------|------|------------|---------------|

#### 🔄 다음 달 우선 복습 목록

재복습이 필요한 문제를 우선순위로 정렬:

1. **3회 이상 재복습**: 즉시 복습 필요
2. **2회 재복습**: 이번 주 내 복습
3. **1회 재복습**: 다음 주간 복습에 포함

### 4. 파일 생성 (save 입력 시)

`monthly-notes/YYYY-MM.md` 파일을 생성합니다.

**파일 구조:**
```markdown
# YYYY년 MM월 학습 리포트

> 분석 기간: YYYY-MM-DD ~ YYYY-MM-DD
> 생성 일자: YYYY-MM-DD

---

## 📊 월간 통계 요약
...

## 📋 주차별 복습 상세
...

## 🎯 핵심 패턴 TOP 10
...

## ❌ 반복 실수 분석
...

## 🔄 다음 달 우선 복습 목록
...

## 📈 성장 추이
...
```

### 5. 완료 후 안내

```
✅ 월간 리포트 생성 완료

📁 저장 위치: monthly-notes/2025-12.md

📊 핵심 지표:
- 총 복습: 46문제
- 완료율: 65%
- TOP 패턴: Counter, dict.fromkeys(), 튜플 비교

💡 다음 달 우선 복습:
1. 120886 — Counter 아나그램 (3회 재복습)
2. 120888 — dict.fromkeys() (2회 재복습)
...
```

## 분석 규칙

### 패턴 추출 규칙

weekly-notes의 `## 💡 이번 주 핵심 패턴 정리` 섹션에서:
- `### N. 패턴명` 형식으로 패턴 제목 추출
- 같은 패턴이 여러 주에 등장하면 빈도 카운트

### 재복습 문제 식별

- 복습 상세 테이블에서 `🔄` 결과인 문제
- `## 🔄 다음 주간 복습 예정` 섹션의 문제
- 여러 주에 걸쳐 등장하면 우선순위 상승

### 성장 추이 계산

주차별 완료율 변화를 시각화:
```
W50: ████████░░ 47%
W51: █████████░ 83%
W52: ██████████ 100%
W01: █████░░░░░ 55%
```

## 주의사항

- **weekly-notes 필수**: 분석할 weekly-notes가 없으면 에러 메시지 출력
- **패턴 정규화**: 같은 패턴의 다른 표현을 통합 (예: `Counter`, `collections.Counter`)
- **월 경계 처리**: 주차가 월을 넘어가는 경우 복습 기간 기준으로 판단
- **monthly-notes 폴더**: 없으면 자동 생성
