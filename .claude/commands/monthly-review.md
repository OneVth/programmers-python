# Monthly Review - 월간 복습

최근 4주간 weekly-notes에서 복습이 필요한 문제들을 찾아 복습 환경을 생성합니다.

## 입력
$ARGUMENTS

- **없음**: 복습 대상 목록만 출력
- **`start`**: 전체 복습 파일 생성
- **`{문제번호}`**: 특정 문제만 복습 파일 생성 (예: `120863`)

## 작업 내용

### 1. 복습 대상 추출

`weekly-notes/` 폴더에서 최근 4주간 파일을 읽고, 복습이 필요한 문제를 추출합니다.

**파싱 규칙:**

#### 방법 1: 복습 문제 상세 테이블에서 🔄 결과
```markdown
| 날짜 | 문제번호 | 제목 | 핵심 개념 | 결과 |
|------|----------|------|-----------|:----:|
| 12/24 | 181830 | 정사각형으로 만들기 | ... | 🔄 |
```
- 테이블 행에서 `| {6자리숫자} |` 패턴으로 문제번호 추출
- 같은 행에 `🔄`가 있으면 복습 대상

#### 방법 2: "다음 주간 복습 예정" 섹션
```markdown
## 🔄 다음 주간 복습 예정
- [ ] 120886 — Counter 아나그램
- [ ] 120888 — dict.fromkeys()
```
- `- [ ] {6자리숫자}` 패턴으로 문제번호 추출
- 해당 섹션의 모든 문제가 복습 대상

**중복 처리:** 같은 문제가 여러 주에 등장하면 한 번만 포함

### 2. 문제 경로 찾기

추출한 문제번호로 `Lv*/` 폴더를 검색하여 실제 경로를 찾습니다.

예: `120863` → `Lv0/120863/`

### 3. 복습 목록 출력

| # | 문제 | 핵심 개념 | 경로 | 복습 횟수 | 출처 주차 |
|---|------|-----------|------|-----------|-----------|

- 복습 횟수는 해당 폴더의 `review_*.py` 파일 개수로 계산
- 출처 주차는 해당 문제가 등장한 weekly-notes 파일명

### 4. 복습 파일 생성 (start 또는 문제번호 입력 시)

각 문제에 대해:

1. **복습 횟수 확인**: 폴더에서 `review_*.py` 패턴 검색, 가장 큰 숫자 + 1
2. **문제 정보 추출**: 원본 `solution.py`의 docstring에서 문제 설명과 제한 조건만 추출 (코드는 제외!)
3. **review_{N}.py 생성**

**review_{N}.py 템플릿:**
```python
"""
프로그래머스 {경로에서 추출한 레벨} #{문제번호} - {제목}
https://school.programmers.co.kr/learn/courses/30/lessons/{문제번호}

[복습] {N}차 - {오늘 날짜}

[문제]
{원본 solution.py docstring의 [문제] 섹션}

[제한]
{원본 solution.py docstring의 [제한] 섹션}
"""


def solution():
    # 백지에서 시작하세요!
    pass
```

### 5. 완료 후 안내

생성된 파일 목록과 테스트 방법을 출력합니다:

```
✅ 복습 파일 생성 완료

| 문제 | 파일 | 테스트 명령어 |
|------|------|---------------|
| 120863 | review_2.py | python runner.py Lv0/120863 -f review_2.py |

💡 복습 팁:
- 원본 solution.py를 보지 않고 풀어보세요
- 완료 후 원본과 비교해보세요
- 월간 복습은 장기 기억 정착에 효과적입니다!
```

## 주의사항

- **백지 복습**: 원본 solution.py의 코드 부분은 절대 읽거나 출력하지 않음
- **docstring만 추출**: 문제 설명과 제한 조건만 가져옴
- **이미 있는 파일 보호**: 같은 번호의 review 파일이 있으면 건너뜀
- **testcases.json 공유**: 같은 폴더이므로 자동으로 재사용됨
- **weekly-notes 필수**: 분석할 weekly-notes가 없으면 에러 메시지 출력

## weekly-review와의 차이점

| 항목 | weekly-review | monthly-review |
|------|---------------|----------------|
| 소스 폴더 | `daily-notes/` | `weekly-notes/` |
| 검색 기간 | 최근 7일 | 최근 4주 |
| 복습 마크 | 🔁 | 🔄 (재복습 필요) |
| 대상 문제 | 당일 풀었던 문제 중 복습 필요 | 주간 복습에서 미완료/재복습 필요 |
