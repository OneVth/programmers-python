# 문자열 패턴 비교: Replace vs S+S 트릭

## 핵심 구분법 (외우세요!)

| 구분 | Replace 패턴 | S+S 회전 트릭 |
|------|-------------|---------------|
| **핵심 질문** | "이 조각들로 **조립**할 수 있나?" | "**회전**해서 같아질 수 있나?" |
| **원본 변형** | 원본 **분해/제거** | 원본 **유지**, 순서만 변경 |
| **문자 보존** | 문자가 **사라짐** | 모든 문자 **보존** |
| **길이 변화** | 가능 | 불가능 (항상 동일) |

---

## 패턴 1: Replace (조립/분해 문제)

### 언제 사용?

> **"주어진 조각들로 문자열을 만들 수 있는가?"**

```
키워드: 조합, 붙여서, 이어서, ~로만 구성, ~로 이루어진
```

### 문제 특징

- 특정 **패턴/단어 조각**이 주어짐
- 조각을 **이어붙여서** 목표 문자열 완성 가능 여부
- 조각 사용 후 **남는 문자가 없어야** 함
- 조각의 **순서는 자유**

### 예시 문제

```
[옹알이]
입력: "ayaye"
조각: ["aya", "ye", "woo", "ma"]
질문: 조각들로 "ayaye"를 만들 수 있는가?
→ "aya" + "ye" = "ayaye" ✅
```

### 풀이 공식

```python
# 방법 1: 공백 대체 (경계 유지!)
def can_build(word, pieces):
    for piece in pieces:
        word = word.replace(piece, " ")  # ⚠️ 공백으로!
    return word.strip() == ""

# 방법 2: 정규표현식
import re
pattern = re.compile(r'^(piece1|piece2|...)+$')
return bool(pattern.match(word))
```

### ⚠️ 주의: 왜 공백인가?

```python
# ❌ 빈 문자열 대체 → 새로운 가짜 패턴 생성!
"wyeoo".replace("ye", "") → "woo"  # w와 oo가 붙어버림!

# ✅ 공백 대체 → 경계 유지!
"wyeoo".replace("ye", " ") → "w oo"  # 경계 유지됨
```

---

## 패턴 2: S+S 회전 트릭 (회전/순환 문제)

### 언제 사용?

> **"문자열을 회전해서 다른 문자열이 될 수 있는가?"**

```
키워드: 회전, 밀기, 순환, rotate, shift, circular
```

### 문제 특징

- 문자열의 **순서만 변경** (회전)
- 모든 문자가 **그대로 보존**됨
- 두 문자열의 **길이가 반드시 같음**
- 앞/뒤로 **밀기** 동작

### 예시 문제

```
[문자열 밀기]
입력: A = "hello", B = "ohell"
질문: A를 회전해서 B가 될 수 있는가?
→ "hello" → "ohell" (오른쪽 1번 회전) ✅
```

### 풀이 공식

```python
# 핵심 원리: S+S에 모든 회전 상태가 포함됨
def can_rotate_to(A, B):
    if len(A) != len(B):
        return False
    return B in (A + A)

# 회전 횟수 구하기
def rotation_count(A, B):
    if len(A) != len(B):
        return -1
    # 오른쪽 회전: (B+B).find(A)
    # 왼쪽 회전: (A+A).find(B)
    return (B + B).find(A)
```

### 왜 S+S인가?

```
S = "hello"
S + S = "hellohello"

모든 회전 상태가 부분문자열로 존재:
- "hello" (0번)
- "elloh" (4번 오른쪽)
- "llohe" (3번)
- "lohel" (2번)
- "ohell" (1번) ← 찾으면 회전 횟수!
```

---

## 빠른 판별 체크리스트

### ✅ Replace 패턴 사용

- [ ] "~로 만들 수 있는가?"
- [ ] "~로만 구성되어 있는가?"
- [ ] 특정 단어/조각 목록이 주어짐
- [ ] 조각을 조합해서 문자열 완성
- [ ] 남는 문자가 없어야 함

### ✅ S+S 트릭 사용

- [ ] "회전/밀어서 같아지는가?"
- [ ] "몇 번 회전해야 하는가?"
- [ ] 두 문자열 길이가 같음
- [ ] 모든 문자가 보존됨
- [ ] 순서만 바뀜 (앞→뒤 또는 뒤→앞)

---

## 실전 문제 분류

### Replace 유형

| 문제 | 핵심 |
|------|------|
| 옹알이 | "aya", "ye" 등으로 조립 가능? |
| 올바른 괄호 | "(", ")" 쌍으로 분해 가능? |
| 단어 분리 | 사전 단어들로 분해 가능? |

### S+S 유형

| 문제 | 핵심 |
|------|------|
| 문자열 밀기 | A를 회전해서 B가 되는가? |
| 순환 문자열 | 두 문자열이 회전 관계? |
| 최소 회전 | 몇 번 회전해야 하는가? |

---

## 헷갈리는 경우 구분법

### "문자열 A가 B가 될 수 있는가?"

```
1. 길이가 다르면? → Replace (조립 문제)
2. 길이가 같고 "회전/밀기" 언급? → S+S
3. 길이가 같고 "조각/패턴" 언급? → Replace
4. 모든 문자가 보존되어야 하면? → S+S
5. 일부 문자가 사라져도 되면? → Replace
```

---

## 요약 - 시험 전 복습용

```
┌─────────────────────────────────────────────────┐
│  문자열 패턴 선택 가이드                         │
├─────────────────────────────────────────────────┤
│                                                 │
│  "조각으로 만들 수 있나?" → Replace + 공백      │
│     word.replace(piece, " ")                    │
│     ^(p1|p2|p3)+$ 정규표현식                    │
│                                                 │
│  "회전해서 같아지나?" → S+S 트릭               │
│     B in (A + A)                                │
│     (B + B).find(A) = 오른쪽 회전 횟수          │
│                                                 │
│  핵심 차이: 문자 보존 vs 문자 제거              │
│                                                 │
└─────────────────────────────────────────────────┘
```

---

## 관련 노트

- [[string-rotation-trick]] - S+S 트릭 상세
- [[regex-tutorial]] - 정규표현식 기초

---

*관련 문제: #120921 문자열 밀기, #120956 옹알이*
